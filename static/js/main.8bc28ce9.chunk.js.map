{"version":3,"sources":["components/Person.jsx","components/PeopleTable.jsx","App.js","index.js"],"names":["Person","_ref","person","index","nameStyles","classNames","people__born-before-1650","born","people__died-after-1800","died","generalStyles","people__lived-more-65","age","person--father","children","length","sex","person--mother","person--female","person--male","centuryStyles","concat","century","console","log","react_default","a","createElement","className","key","id","name","mother","father","map","child","PeopleTable","people","inputValue","handleInput","filteredBySearch","sortFunc","Fragment","htmlFor","value","onChange","type","onClick","components_Person","App","state","direction","componentDidMount","_this","loadData","sortBy","setState","prevState","Object","toConsumableArray","sort","b","localeCompare","event","target","filter","toLowerCase","includes","_callee","responsePeople","peopleWithOtherColumns","regenerator_default","wrap","_context","prev","next","fetch","sent","json","objectSpread","Math","ceil","stop","_this$state","this","components_PeopleTable","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.8bc28ce9.chunk.js","sourcesContent":["import React from 'react'\r\nimport classNames from 'classnames';\r\n\r\nconst Person = ({ person, index }) => {\r\n  const nameStyles = classNames({\r\n    'people__born-before-1650': person.born < 1650,\r\n    'people__died-after-1800': person.died > 1800,\r\n  })\r\n\r\n  const generalStyles = classNames({\r\n    'people__lived-more-65': person.age > 65,\r\n    'person--father': person.children.length && person.sex === 'm',\r\n    'person--mother': person.children.length && person.sex === 'f',\r\n    'person--female': person.sex === 'f',\r\n    'person--male': person.sex === 'm',\r\n  })\r\n\r\n  const centuryStyles = classNames(\r\n    `person--lived-in-${person.century}-century`)\r\n\r\n  console.log(person);\r\n  return (\r\n    <tr className={generalStyles} key={index}>\r\n      <td>{person.id}</td>\r\n      <td className={nameStyles}>{person.name}</td>\r\n      <td className={generalStyles}>{person.sex}</td>\r\n      <td>{person.born}</td>\r\n      <td>{person.died}</td>\r\n      <td>{person.mother}</td>\r\n      <td>{person.father}</td>\r\n      <td>{person.age}</td>\r\n      <td className={centuryStyles}>{person.century}</td>\r\n      <td>{(person.children.map(child => `${child.name}, `)) !== '' \r\n        ? person.children.map(child => `${child.name}, `)\r\n        : 'unknown' }\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PeopleTable = ({people, inputValue, handleInput, filteredBySearch, sortFunc}) => (\r\n  <>\r\n    <label htmlFor=\"\">\r\n      Search:\r\n      <input value={inputValue} onChange={handleInput} type=\"text\"/>\r\n    </label>\r\n    <table className='PeopleTable'>\r\n      <thead>\r\n        <tr>\r\n          <th onClick={() => sortFunc('id')}>id</th>\r\n          <th onClick={() => sortFunc('name')}>name</th>\r\n          <th>sex</th>\r\n          <th onClick={() => sortFunc('born')}>born</th>\r\n          <th onClick={() => sortFunc('died')}>died</th>\r\n          <th>mother</th>\r\n          <th>father</th>\r\n          <th onClick={() => sortFunc('age')}>age</th>\r\n          <th>century</th>\r\n          <th>children</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        {\r\n          filteredBySearch.map((person, index) => (\r\n            <Person \r\n              index={(index + 1)}\r\n              person={person}\r\n            />\r\n          ))\r\n        }\r\n      </tbody>\r\n    </table>\r\n  </>\r\n)\r\n\r\nexport default PeopleTable","import React from 'react';\r\nimport PeopleTable from './components/PeopleTable'\r\nimport './App.css'\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    people: [],\r\n    filteredBySearch: [],\r\n    inputValue: '',\r\n    direction: 1,\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.loadData()\r\n  }\r\n\r\n  sortFunc = (sortBy) => {\r\n    this.setState(prevState => ({\r\n      direction: prevState.direction === 1 ? -1 : 1,\r\n      filteredBySearch: [...prevState.filteredBySearch].sort((a,b) => {\r\n        switch(sortBy) { // колхоз-стайл, поправлю потом\r\n          case 'name':\r\n            return a.name.localeCompare(b.name) * prevState.direction;\r\n          case 'id':\r\n            return a.id - b.id * prevState.direction;\r\n          case 'age':\r\n            return a.age - b.age * prevState.direction;\r\n          case 'born':\r\n            return a.born - b.born * prevState.direction;\r\n          case 'died':\r\n            return a.died - b.died * prevState.direction;\r\n          default: \r\n            return 0;\r\n        }\r\n      })\r\n    }))\r\n  } \r\n\r\n  handleInput = (event) => {\r\n    const {value} = event.target;\r\n    this.setState(prevState => ({\r\n      inputValue: value,\r\n      filteredBySearch: [...prevState.people].filter(person => \r\n        person.name.toLowerCase().includes(value.toLowerCase())\r\n        || (person.mother ? person.mother\r\n          .toLowerCase().includes(value.toLowerCase()) : false)\r\n        || (person.father ? person.father\r\n          .toLowerCase().includes(value.toLowerCase()) : false)\r\n      ),\r\n    }))\r\n  }\r\n\r\n  loadData = async () => {\r\n    const responsePeople = await \r\n      fetch('https://mate-academy.github.io/react_people-table/api/people.json');\r\n    const people = await responsePeople.json();\r\n\r\n    const peopleWithOtherColumns = people.map((person, index) => ({\r\n      ...person,\r\n      id: index + 1,\r\n      age: person.died - person.born,\r\n      century: Math.ceil(person.died / 100),\r\n      children: people.filter(child => \r\n        child.mother === person.name || child.father === person.name),\r\n    }));\r\n    \r\n    this.setState({\r\n      people: peopleWithOtherColumns,\r\n      filteredBySearch: peopleWithOtherColumns,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {inputValue, people, filteredBySearch} = this.state;\r\n    return (\r\n      <div>\r\n        <PeopleTable \r\n          inputValue={inputValue}\r\n          people={people}\r\n          filteredBySearch={filteredBySearch}\r\n          handleInput={this.handleInput}\r\n          sortFunc={this.sortFunc}\r\n          />\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}