{"version":3,"sources":["components/Person.jsx","components/PeopleTable.jsx","App.js","index.js"],"names":["Person","_ref","person","index","selectedId","selectFunc","nameStyles","classNames","people--born-before-1650","born","people--died-after-1800","died","generalStyles","people--lived-more-65","age","person--father","children","length","sex","person--mother","person--female","person--male","person--selected","id","centuryStyles","concat","century","react_default","a","createElement","onClick","className","key","name","mother","father","map","child","PeopleTable","people","inputValue","handleInput","filteredBySearch","sortFunc","Fragment","htmlFor","value","onChange","type","components_Person","App","state","direction","componentDidMount","_this","loadData","setState","sortBy","prevState","Object","toConsumableArray","sort","b","localeCompare","event","target","filter","toLowerCase","includes","_callee","responsePeople","peopleWithOtherColumns","regenerator_default","wrap","_context","prev","next","fetch","sent","json","objectSpread","Math","ceil","stop","_this$state","this","components_PeopleTable","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.5995b9f6.chunk.js","sourcesContent":["import React from 'react'\r\nimport classNames from 'classnames';\r\n\r\nconst Person = ({ person, index, selectedId, selectFunc }) => {\r\n  const nameStyles = classNames({\r\n    'people--born-before-1650': person.born < 1650,\r\n    'people--died-after-1800': person.died > 1800,\r\n  })\r\n\r\n  const generalStyles = classNames({\r\n    'people--lived-more-65': person.age > 65,\r\n    'person--father': person.children.length && person.sex === 'm',\r\n    'person--mother': person.children.length && person.sex === 'f',\r\n    'person--female': person.sex === 'f',\r\n    'person--male': person.sex === 'm',\r\n    'person--selected': person.id === selectedId,\r\n  })\r\n\r\n  const centuryStyles = classNames(\r\n    `person--lived-in-${person.century}-century`)\r\n\r\n  return (\r\n    <tr onClick={() => selectFunc(person.id)} className={generalStyles} key={index}>\r\n      <td>{person.id}</td>\r\n      <td className={nameStyles}>{person.name}</td>\r\n      <td className={generalStyles}>{person.sex}</td>\r\n      <td>{person.born}</td>\r\n      <td>{person.died}</td>\r\n      <td>{person.mother}</td>\r\n      <td>{person.father}</td>\r\n      <td>{person.age}</td>\r\n      <td className={centuryStyles}>{person.century}</td>\r\n      <td>{(person.children.map(child => `${child.name}, `)) !== '' \r\n        ? person.children.map(child => `${child.name}, `)\r\n        : 'unknown' }\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PeopleTable = \r\n  ({people, \r\n  inputValue, \r\n  handleInput, \r\n  filteredBySearch, \r\n  sortFunc, \r\n  selectedId, \r\n  selectFunc\r\n  }) => (\r\n    <>\r\n      <label htmlFor=\"\">\r\n        Search:\r\n        <input value={inputValue} onChange={handleInput} type=\"text\"/>\r\n      </label>\r\n      <table className='PeopleTable'>\r\n        <thead>\r\n          <tr>\r\n            <th onClick={() => sortFunc('id')}>id</th>\r\n            <th onClick={() => sortFunc('name')}>name</th>\r\n            <th>sex</th>\r\n            <th onClick={() => sortFunc('born')}>born</th>\r\n            <th onClick={() => sortFunc('died')}>died</th>\r\n            <th>mother</th>\r\n            <th>father</th>\r\n            <th onClick={() => sortFunc('age')}>age</th>\r\n            <th>century</th>\r\n            <th>children</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            filteredBySearch.map((person, index) => (\r\n              <Person \r\n                index={(index + 1)}\r\n                person={person}\r\n                selectedId={selectedId}\r\n                selectFunc={selectFunc}\r\n              />\r\n            ))\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </>\r\n)\r\n\r\nexport default PeopleTable","import React from 'react';\r\nimport PeopleTable from './components/PeopleTable'\r\nimport './App.css'\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    people: [],\r\n    filteredBySearch: [],\r\n    inputValue: '',\r\n    direction: 1,\r\n    selectedId: '',\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.loadData()\r\n  }\r\n\r\n  selectFunc = (value) => {\r\n    this.setState({\r\n      selectedId: value,\r\n    })\r\n  }\r\n\r\n  sortFunc = (sortBy) => {\r\n    this.setState(prevState => ({\r\n      direction: prevState.direction === 1 ? -1 : 1,\r\n      filteredBySearch: [...prevState.filteredBySearch].sort((a,b) => {\r\n        switch(sortBy) { // колхоз-стайл, поправлю потом\r\n          case 'name':\r\n            return a.name.localeCompare(b.name) * prevState.direction;\r\n          case 'id':\r\n            return a.id - b.id * prevState.direction;\r\n          case 'age':\r\n            return a.age - b.age * prevState.direction;\r\n          case 'born':\r\n            return a.born - b.born * prevState.direction;\r\n          case 'died':\r\n            return a.died - b.died * prevState.direction;\r\n          default: \r\n            return 0;\r\n        }\r\n      })\r\n    }))\r\n  } \r\n\r\n  handleInput = (event) => {\r\n    const {value} = event.target;\r\n    this.setState(prevState => ({\r\n      inputValue: value,\r\n      filteredBySearch: [...prevState.people].filter(person => \r\n        person.name.toLowerCase().includes(value.toLowerCase())\r\n        || (person.mother ? person.mother\r\n          .toLowerCase().includes(value.toLowerCase()) : false)\r\n        || (person.father ? person.father\r\n          .toLowerCase().includes(value.toLowerCase()) : false)\r\n      ),\r\n    }))\r\n  }\r\n\r\n  loadData = async () => {\r\n    const responsePeople = await \r\n      fetch('https://mate-academy.github.io/react_people-table/api/people.json');\r\n    const people = await responsePeople.json();\r\n\r\n    const peopleWithOtherColumns = people.map((person, index) => ({\r\n      ...person,\r\n      id: index + 1,\r\n      age: person.died - person.born,\r\n      century: Math.ceil(person.died / 100),\r\n      children: people.filter(child => \r\n        child.mother === person.name || child.father === person.name),\r\n    }));\r\n    \r\n    this.setState({\r\n      people: peopleWithOtherColumns,\r\n      filteredBySearch: peopleWithOtherColumns,\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const {inputValue, people, filteredBySearch, selectedId} = this.state;\r\n    return (\r\n      <div>\r\n        <PeopleTable \r\n          inputValue={inputValue}\r\n          people={people}\r\n          filteredBySearch={filteredBySearch}\r\n          handleInput={this.handleInput}\r\n          sortFunc={this.sortFunc}\r\n          selectedId={selectedId}\r\n          selectFunc={this.selectFunc}\r\n          />\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}