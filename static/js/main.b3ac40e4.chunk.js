(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(21)},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(5),c=n.n(l),o=n(3),u=n(2),i=n.n(u),d=n(12),s=n(6),m=n(7),p=n(8),h=n(10),f=n(9),E=n(11),b=n(1),y=n.n(b),w=function(e){var t=e.person,n=e.index,a=e.selectedId,l=e.selectFunc,c=y()({"people--born-before-1650":t.born<1650,"people--died-after-1800":t.died>1800}),o=y()({"people--lived-more-65":t.age>65,"person--father":t.children.length&&"m"===t.sex,"person--mother":t.children.length&&"f"===t.sex,"person--female":"f"===t.sex,"person--male":"m"===t.sex,"person--selected":t.id===a}),u=y()("person--lived-in-".concat(t.century,"-century"));return r.a.createElement("tr",{onClick:function(){return l(t.id)},className:o,key:n},r.a.createElement("td",null,t.id),r.a.createElement("td",{className:c},t.name),r.a.createElement("td",{className:o},t.sex),r.a.createElement("td",null,t.born),r.a.createElement("td",null,t.died),r.a.createElement("td",null,t.mother),r.a.createElement("td",null,t.father),r.a.createElement("td",null,t.age),r.a.createElement("td",{className:u},t.century),r.a.createElement("td",null,t.children.map(function(e){return e.name}).join(", ")||"unknown"))},v=function(e){e.people;var t=e.inputValue,n=e.handleInput,a=e.filteredBySearch,l=e.sortFunc,c=e.selectedId,o=e.selectFunc;return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:""},"Search:",r.a.createElement("input",{value:t,onChange:n,type:"text"})),r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return l("id")}},"id"),r.a.createElement("th",{onClick:function(){return l("name")}},"name"),r.a.createElement("th",null,"sex"),r.a.createElement("th",{onClick:function(){return l("born")}},"born"),r.a.createElement("th",{onClick:function(){return l("died")}},"died"),r.a.createElement("th",null,"mother"),r.a.createElement("th",null,"father"),r.a.createElement("th",{onClick:function(){return l("age")}},"age"),r.a.createElement("th",null,"century"),r.a.createElement("th",null,"children"))),r.a.createElement("tbody",null,a.map(function(e,t){return r.a.createElement(w,{index:t+1,person:e,selectedId:c,selectFunc:o})}))))},C=(n(20),function(e){function t(){var e,n;Object(m.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(h.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={people:[],filteredBySearch:[],inputValue:"",direction:1,selectedId:""},n.componentDidMount=function(){n.loadData()},n.selectFunc=function(e){n.setState({selectedId:e})},n.loadData=Object(s.a)(i.a.mark(function e(){var t,a,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://mate-academy.github.io/react_people-table/api/people.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,r=a.map(function(e,t){return Object(d.a)({},e,{id:t+1,age:e.died-e.born,century:Math.ceil(e.died/100),children:a.filter(function(t){return t.mother===e.name||t.father===e.name})})}),n.setState({people:r,filteredBySearch:r});case 8:case"end":return e.stop()}},e)})),n.handleInput=function(e){var t=e.target.value;n.setState(function(e){return{inputValue:t,filteredBySearch:Object(o.a)(e.people).filter(function(e){return e.name.toLowerCase().includes(t.toLowerCase())||!!e.mother&&e.mother.toLowerCase().includes(t.toLowerCase())||!!e.father&&e.father.toLowerCase().includes(t.toLowerCase())})}})},n.sortFunc=function(e){n.setState(function(t){return{direction:1===t.direction?-1:1,filteredBySearch:Object(o.a)(t.filteredBySearch).sort(function(n,a){var r=n[e],l=a[e];switch(typeof r){case"string":return r.localeCompare(l)*t.direction;case"number":case"boolean":return(r-l)*t.direction;default:return 0}})}})},n}return Object(E.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.inputValue,n=e.people,a=e.filteredBySearch,l=e.selectedId;return r.a.createElement("div",null,r.a.createElement(v,{inputValue:t,people:n,filteredBySearch:a,handleInput:this.handleInput,sortFunc:this.sortFunc,selectedId:l,selectFunc:this.selectFunc}))}}]),t}(r.a.Component));c.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.b3ac40e4.chunk.js.map