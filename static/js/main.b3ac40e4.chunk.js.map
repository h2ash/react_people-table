{"version":3,"sources":["components/Person.jsx","components/PeopleTable.jsx","App.js","index.js"],"names":["Person","_ref","person","index","selectedId","selectFunc","nameStyles","classNames","people--born-before-1650","born","people--died-after-1800","died","generalStyles","people--lived-more-65","age","person--father","children","length","sex","person--mother","person--female","person--male","person--selected","id","centuryStyles","concat","century","react_default","a","createElement","onClick","className","key","name","mother","father","map","child","join","PeopleTable","people","inputValue","handleInput","filteredBySearch","sortFunc","Fragment","htmlFor","value","onChange","type","components_Person","App","state","direction","componentDidMount","_this","loadData","setState","_callee","responsePeople","peopleWithOtherColumns","regenerator_default","wrap","_context","prev","next","fetch","sent","json","Object","objectSpread","Math","ceil","filter","stop","event","target","prevState","toConsumableArray","toLowerCase","includes","sortField","sort","b","valueA","valueB","localeCompare","_this$state","this","components_PeopleTable","React","Component","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.b3ac40e4.chunk.js","sourcesContent":["import React from 'react'\r\nimport classNames from 'classnames';\r\n\r\nconst Person = ({ person, index, selectedId, selectFunc }) => {\r\n  const nameStyles = classNames({\r\n    'people--born-before-1650': person.born < 1650,\r\n    'people--died-after-1800': person.died > 1800,\r\n  })\r\n\r\n  const generalStyles = classNames({\r\n    'people--lived-more-65': person.age > 65,\r\n    'person--father': person.children.length && person.sex === 'm',\r\n    'person--mother': person.children.length && person.sex === 'f',\r\n    'person--female': person.sex === 'f',\r\n    'person--male': person.sex === 'm',\r\n    'person--selected': person.id === selectedId,\r\n  })\r\n\r\n  const centuryStyles = classNames(\r\n    `person--lived-in-${person.century}-century`)\r\n\r\n  return (\r\n    <tr onClick={() => selectFunc(person.id)} className={generalStyles} key={index}>\r\n      <td>{person.id}</td>\r\n      <td className={nameStyles}>{person.name}</td>\r\n      <td className={generalStyles}>{person.sex}</td>\r\n      <td>{person.born}</td>\r\n      <td>{person.died}</td>\r\n      <td>{person.mother}</td>\r\n      <td>{person.father}</td>\r\n      <td>{person.age}</td>\r\n      <td className={centuryStyles}>{person.century}</td>\r\n      <td>{person.children.map(child => child.name).join(', ') || 'unknown'}\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nexport default Person","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst PeopleTable = \r\n  ({people, \r\n  inputValue, \r\n  handleInput, \r\n  filteredBySearch, \r\n  sortFunc, \r\n  selectedId, \r\n  selectFunc\r\n  }) => (\r\n    <>\r\n      <label htmlFor=\"\">\r\n        Search:\r\n        <input value={inputValue} onChange={handleInput} type=\"text\"/>\r\n      </label>\r\n      <table className='PeopleTable'>\r\n        <thead>\r\n          <tr>\r\n            <th onClick={() => sortFunc('id')}>id</th>\r\n            <th onClick={() => sortFunc('name')}>name</th>\r\n            <th>sex</th>\r\n            <th onClick={() => sortFunc('born')}>born</th>\r\n            <th onClick={() => sortFunc('died')}>died</th>\r\n            <th>mother</th>\r\n            <th>father</th>\r\n            <th onClick={() => sortFunc('age')}>age</th>\r\n            <th>century</th>\r\n            <th>children</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {\r\n            filteredBySearch.map((person, index) => (\r\n              <Person \r\n                index={(index + 1)}\r\n                person={person}\r\n                selectedId={selectedId}\r\n                selectFunc={selectFunc}\r\n              />\r\n            ))\r\n          }\r\n        </tbody>\r\n      </table>\r\n    </>\r\n)\r\n\r\nexport default PeopleTable","import React from 'react';\r\nimport PeopleTable from './components/PeopleTable'\r\nimport './App.css'\r\n\r\nclass App extends React.Component {\r\n  state = {\r\n    people: [],\r\n    filteredBySearch: [],\r\n    inputValue: '',\r\n    direction: 1,\r\n    selectedId: '',\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    this.loadData()\r\n  }\r\n\r\n  selectFunc = (value) => {\r\n    this.setState({\r\n      selectedId: value,\r\n    })\r\n  }\r\n\r\n  loadData = async () => {\r\n    const responsePeople = await \r\n      fetch('https://mate-academy.github.io/react_people-table/api/people.json');\r\n    const people = await responsePeople.json();\r\n\r\n    const peopleWithOtherColumns = people.map((person, index) => ({\r\n      ...person,\r\n      id: index + 1,\r\n      age: person.died - person.born,\r\n      century: Math.ceil(person.died / 100),\r\n      children: people.filter(child => \r\n        child.mother === person.name || child.father === person.name),\r\n    }));\r\n    \r\n    this.setState({\r\n      people: peopleWithOtherColumns,\r\n      filteredBySearch: peopleWithOtherColumns,\r\n    })\r\n  }\r\n\r\n  handleInput = (event) => {\r\n    const {value} = event.target;\r\n    this.setState(prevState => ({\r\n      inputValue: value,\r\n      filteredBySearch: [...prevState.people].filter(person => \r\n        person.name.toLowerCase().includes(value.toLowerCase())\r\n        || (person.mother ? person.mother\r\n          .toLowerCase().includes(value.toLowerCase()) : false)\r\n        || (person.father ? person.father\r\n          .toLowerCase().includes(value.toLowerCase()) : false)\r\n      ),\r\n    }))\r\n  }\r\n  \r\n  sortFunc = (sortField) => {\r\n    this.setState(prevState => ({\r\n      direction: prevState.direction === 1 ? -1 : 1,\r\n      filteredBySearch: [...prevState.filteredBySearch].sort((a,b) => {\r\n        \r\n        const valueA = a[sortField];\r\n        const valueB = b[sortField];\r\n\r\n        switch(typeof valueA) {\r\n          case 'string':\r\n            return valueA.localeCompare(valueB) * prevState.direction;\r\n          case 'number':\r\n          case 'boolean':\r\n            return (valueA - valueB) * prevState.direction;\r\n\r\n          default: \r\n            return 0;\r\n        }\r\n      })\r\n    }))\r\n  } \r\n\r\n  render() {\r\n    const {inputValue, people, filteredBySearch, selectedId} = this.state;\r\n    return (\r\n      <div>\r\n        <PeopleTable \r\n          inputValue={inputValue}\r\n          people={people}\r\n          filteredBySearch={filteredBySearch}\r\n          handleInput={this.handleInput}\r\n          sortFunc={this.sortFunc}\r\n          selectedId={selectedId}\r\n          selectFunc={this.selectFunc}\r\n          />\r\n      </div>\r\n    )\r\n  }\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}